{% extends 'base.html' %}

{% block content %}

<div class="profile-container">
<!-- Profilbild -->
<div class="profile-image" style="text-align:center;">
    <img src="{% if user.profile_image %}{{ url_for('static', filename='profile_pics/' ~ user.profile_image) }}{% else %}{{ url_for('static', filename='images/default_profile.png') }}{% endif %}"
    alt="Profilbild" width="128" height="128" style="border-radius: 50%; object-fit: cover;">


    <form method="POST" enctype="multipart/form-data" action="{{ url_for('upload_profile_image') }}" style="margin-top: 10px;">
        <label for="profile_image"><strong>Profilbild ändern:</strong></label>
        <input type="file" name="profile_image" accept="image/*" required>
        <button type="submit" class="btn-custom">Hochladen</button>
    </form>
</div>



    <!-- Profildetails -->
    <div class="profile-details">
        <h1>{{ user.prename }} {{ user.lastname }}</h1>
        <p><strong>Benutzername:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Passwort:</strong> •••••••••••</p>
        <p><strong>Mitgliedsnummer:</strong> {{ user.mitgliedsnummer }}</p>        
        <p><strong>Mitglied seit:</strong> {{ user.created_at.strftime('%d.%m.%Y') }}</p>
        <a href="{{ url_for('edit_profile') }}" class="btn-custom">Profil bearbeiten</a>
        <button class="btn-profile-delete">Profil löschen</button>
    </div>
</div>

<!-- Projektverwaltung -->
<div class="profile-projects">
    <h2>Meine Projekte</h2>
    <table>
        <thead>
            <tr>
                <th>Projektname</th>
                <th>Aktionen</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Projekt A</td>
                <td>
                    <a href="#" class="btn-custom">Bearbeiten</a>
                    <a href="#" class="btn-delete">Löschen</a>
                </td>
            </tr>
            <tr>
                <td>Projekt B</td>
                <td>
                    <a href="#" class="btn-custom">Bearbeiten</a>
                    <a href="#" class="btn-delete">Löschen</a>
                </td>
            </tr>
        </tbody>
    </table>
    <a href="#" class="btn-custom">Neues Projekt erstellen</a>
</div>

<!-- Portfolio-Verwaltung -->
<div class="profile-portfolio">
    <h2>Mein Portfolio</h2>
    <table>
        <thead>
            <tr>
                <th>Portfolioabschnitt</th>
                <th>Aktionen</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Über mich</td>
                <td>
                    <a href="#" class="btn-custom">Bearbeiten</a>
                    <a href="#" class="btn-delete">Löschen</a>
                </td>
            </tr>
            <tr>
                <td>Fähigkeiten</td>
                <td>
                    <a href="#" class="btn-custom">Bearbeiten</a>
                    <a href="#" class="btn-delete">Löschen</a>
                </td>
            </tr>
            <tr>
                <td>Erfahrungen</td>
                <td>
                    <a href="#" class="btn-custom">Bearbeiten</a>
                    <a href="#" class="btn-delete">Löschen</a>
                </td>
            </tr>
        </tbody>
    </table>
    <a href="#" class="btn-custom">Neuen Abschnitt erstellen</a>
</div>
{% endblock %}
